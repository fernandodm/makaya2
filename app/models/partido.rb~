class Partido
  include DataMapper::Resource

  # property <name>, <type>
  property :id, Serial
  belongs_to :equipo1 , :model => Equipo
  belongs_to :equipo2 , :model => Equipo
  property :resultado1, String
  property :resultado2, String

  belongs_to :fecha


	def self.find_by_fecha(fecha_id)
		Partido.all(:fecha => fecha_id)
	end

    def chequearValores
        return @resultado1.to_i >= 0 && @resultadp2.to_i >= 0
    
    end

	def cargarDatos(equipo1,equipo2)
		if(@resultado1.to_i > @resultado2.to_i)
				equipo1.pts += 3		
				equipo1.ganados += 1 
		elsif(@resultado1.to_i < @resultado2.to_i)
				equipo2.ganados += 1 
				equipo2.pts += 3			
		else
			equipo1.empatados += 1 
			equipo1.pts += 1
			equipo2.empatados += 1 
			equipo2.pts += 1
		end			
	end
end

